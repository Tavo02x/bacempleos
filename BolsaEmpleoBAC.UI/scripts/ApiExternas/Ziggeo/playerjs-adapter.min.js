/*!
ziggeo-client-sdk - v2.32.7 - 2018-08-11
Copyright (c) 
Proprietary Software License.
*/
!function(n,t){var i={},r,f,u;for(i.DEBUG=!1,i.VERSION="0.0.11",i.CONTEXT="player.js",i.POST_MESSAGE=!!n.postMessage,i.origin=function(t){return"//"===t.substr(0,2)&&(t=n.location.protocol+t),t.split("/").slice(0,3).join("/")},i.addEvent=function(n,t,i){n&&(n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i)},i.log=function(){i.log.history=i.log.history||[];i.log.history.push(arguments);n.console&&i.DEBUG&&n.console.log(Array.prototype.slice.call(arguments))},i.isString=function(n){return"[object String]"===Object.prototype.toString.call(n)},i.isObject=function(n){return"[object Object]"===Object.prototype.toString.call(n)},i.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)},i.isNone=function(n){return null===n||n===undefined},i.has=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.indexOf=function(n,t){if(null==n)return-1;var i=0,r=n.length;if(Array.prototype.IndexOf&&n.indexOf===Array.prototype.IndexOf)return n.indexOf(t);for(;i<r;i++)if(n[i]===t)return i;return-1},i.assert=function(n,t){if(!n)throw t||"Player.js Assert Failed";},i.Keeper=function(){this.init()},i.Keeper.prototype.init=function(){this.data={}},i.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)})},i.Keeper.prototype.has=function(n,t){if(!this.data.hasOwnProperty(n))return!1;if(i.isNone(t))return!0;for(var u=this.data[n],r=0;r<u.length;r++)if(u[r].id===t)return!0;return!1},i.Keeper.prototype.add=function(n,t,i,r,u){var f={id:n,event:t,cb:i,ctx:r,one:u};this.has(t)?this.data[t].push(f):this.data[t]=[f]},i.Keeper.prototype.execute=function(n,t,r,u){var f,o,s;if(!this.has(n,t))return!1;for(var e=[],h=[],c=0;c<this.data[n].length;c++)f=this.data[n][c],i.isNone(t)||!i.isNone(t)&&f.id===t?(h.push({cb:f.cb,ctx:f.ctx?f.ctx:u,data:r}),!1===f.one&&e.push(f)):e.push(f);for(0===e.length?delete this.data[n]:this.data[n]=e,o=0;o<h.length;o++)s=h[o],s.cb.call(s.ctx,s.data)},i.Keeper.prototype.on=function(n,t,i,r){this.add(n,t,i,r,!1)},i.Keeper.prototype.one=function(n,t,i,r){this.add(n,t,i,r,!0)},i.Keeper.prototype.off=function(n,t){var e=[],u,f,r;if(!this.data.hasOwnProperty(n))return e;for(u=[],f=0;f<this.data[n].length;f++)r=this.data[n][f],i.isNone(t)||r.cb===t?i.isNone(r.id)||e.push(r.id):u.push(r);return 0===u.length?delete this.data[n]:this.data[n]=u,e},i.Player=function(n,t){if(!(this instanceof i.Player))return new i.Player(n,t);this.init(n,t)},i.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},i.EVENTS.all=function(){var t=[];for(var n in i.EVENTS)i.has(i.EVENTS,n)&&i.isString(i.EVENTS[n])&&t.push(i.EVENTS[n]);return t},i.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},i.METHODS.all=function(){var t=[];for(var n in i.METHODS)i.has(i.METHODS,n)&&i.isString(i.METHODS[n])&&t.push(i.METHODS[n]);return t},i.READIED=[],i.Player.prototype.init=function(r){var u=this;i.isString(r)&&(r=t.getElementById(r));this.elem=r;i.assert("IFRAME"===r.nodeName,'playerjs.Player constructor requires an Iframe, got "'+r.nodeName+'"');i.assert(r.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute.");this.origin=i.origin(r.src);this.keeper=new i.Keeper;this.isReady=!1;this.queue=[];this.events=i.EVENTS.all();this.methods=i.METHODS.all();i.POST_MESSAGE?i.addEvent(n,"message",function(n){u.receive(n)}):i.log("Post Message is not Available.");i.indexOf(i.READIED,r.src)>-1?u.loaded=!0:this.elem.onload=function(){u.loaded=!0}},i.Player.prototype.send=function(n,t,r){if(n.context=i.CONTEXT,n.version=i.VERSION,t){var u=this.keeper.getUUID();n.listener=u;this.keeper.one(u,n.method,t,r)}return this.isReady||"ready"===n.value?(i.log("Player.send",n,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(n),this.origin),!0):(i.log("Player.queue",n),this.queue.push(n),!1)},i.Player.prototype.receive=function(n){if(i.log("Player.receive",n),n.origin!==this.origin)return!1;var t;try{t=JSON.parse(n.data)}catch(r){return!1}if(t.context!==i.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t);this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},i.Player.prototype.ready=function(n){var r,t;if(!0===this.isReady)return!1;for(n.value.events&&(this.events=n.value.events),n.value.methods&&(this.methods=n.value.methods),this.isReady=!0,this.loaded=!0,r=0;r<this.queue.length;r++)t=this.queue[r],i.log("Player.dequeue",t),"ready"===n.event&&this.keeper.execute(t.event,t.listener,!0,this),this.send(t);this.queue=[]},i.Player.prototype.on=function(n,t,i){var r=this.keeper.getUUID();return"ready"===n?this.keeper.one(r,n,t,i):this.keeper.on(r,n,t,i),this.send({method:"addEventListener",value:n,listener:r}),!0},i.Player.prototype.off=function(n,t){var r=this.keeper.off(n,t),u;if(i.log("Player.off",r),r.length>0)for(u in r)return this.send({method:"removeEventListener",value:n,listener:r[u]}),!0;return!1},i.Player.prototype.supports=function(n,t){i.assert(i.indexOf(["method","event"],n)>-1,'evtOrMethod needs to be either "event" or "method" got '+n);t=i.isArray(t)?t:[t];for(var u="event"===n?this.events:this.methods,r=0;r<t.length;r++)if(-1===i.indexOf(u,t[r]))return!1;return!0},r=0,f=i.METHODS.all().length;r<f;r++)u=i.METHODS.all()[r],i.Player.prototype.hasOwnProperty(u)||(i.Player.prototype[u]=function(n){return function(){var r={method:n},t=Array.prototype.slice.call(arguments);/^get/.test(n)?(i.assert(t.length>0,"Get methods require a callback."),t.unshift(r)):(/^set/.test(n)&&(i.assert(0!==t.length,"Set methods require a value."),r.value=t[0]),t=[r]);this.send.apply(this,t)}}(u));i.addEvent(n,"message",function(n){var t;try{t=JSON.parse(n.data)}catch(r){return!1}if(t.context!==i.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&i.READIED.push(t.value.src)});i.Receiver=function(n,t){this.init(n,t)};i.Receiver.prototype.init=function(r,u){var f=this;this.isReady=!1;this.origin=i.origin(t.referrer);this.methods={};this.supported={events:r||i.EVENTS.all(),methods:u||i.METHODS.all()};this.eventListeners={};this.reject=!(n.self!==n.top&&i.POST_MESSAGE);this.reject||i.addEvent(n,"message",function(n){f.receive(n)})};i.Receiver.prototype.receive=function(t){var r,u,f;if(t.origin!==this.origin)return!1;if(r={},i.isObject(t.data))r=t.data;else try{r=n.JSON.parse(t.data)}catch(e){i.log("JSON Parse Error",e)}if((i.log("Receiver.receive",t,r),!r.method)||r.context!==i.CONTEXT)return!1;if(-1===i.indexOf(i.METHODS.all(),r.method))return this.emit("error",{code:2,msg:'Invalid Method "'+r.method+'"'}),!1;u=i.isNone(r.listener)?null:r.listener;"addEventListener"===r.method?(this.eventListeners.hasOwnProperty(r.value)?-1===i.indexOf(this.eventListeners[r.value],u)&&this.eventListeners[r.value].push(u):this.eventListeners[r.value]=[u],"ready"===r.value&&this.isReady&&this.ready()):"removeEventListener"===r.method?this.eventListeners.hasOwnProperty(r.value)&&(f=i.indexOf(this.eventListeners[r.value],u),f>-1&&this.eventListeners[r.value].splice(f,1),0===this.eventListeners[r.value].length&&delete this.eventListeners[r.value]):this.get(r.method,r.value,u)};i.Receiver.prototype.get=function(n,t,i){var f=this,r,u;if(!this.methods.hasOwnProperty(n))return this.emit("error",{code:3,msg:'Method Not Supported"'+n+'"'}),!1;r=this.methods[n];"get"===n.substr(0,3)?(u=function(t){f.send(n,t,i)},r.call(this,u)):r.call(this,t)};i.Receiver.prototype.on=function(n,t){this.methods[n]=t};i.Receiver.prototype.send=function(t,r,u){var f,e;if(i.log("Receiver.send",t,r,u),this.reject)return i.log("Receiver.send.reject",t,r,u),!1;f={context:i.CONTEXT,version:i.VERSION,event:t};i.isNone(r)||(f.value=r);i.isNone(u)||(f.listener=u);e=JSON.stringify(f);n.parent.postMessage(e,""===this.origin?"*":this.origin)};i.Receiver.prototype.emit=function(n,t){var r,u;if(!this.eventListeners.hasOwnProperty(n))return!1;for(i.log("Instance.emit",n,t,this.eventListeners[n]),r=0;r<this.eventListeners[n].length;r++)u=this.eventListeners[n][r],this.send(n,t,u);return!0};i.Receiver.prototype.ready=function(){i.log("Receiver.ready");this.isReady=!0;var t={src:n.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",t)||this.send("ready",t)};i.HTML5Adapter=function(n){if(!(this instanceof i.HTML5Adapter))return new i.HTML5Adapter(n);this.init(n)};i.HTML5Adapter.prototype.init=function(n){i.assert(n,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new i.Receiver;n.addEventListener("playing",function(){t.emit("play")});n.addEventListener("pause",function(){t.emit("pause")});n.addEventListener("ended",function(){t.emit("ended")});n.addEventListener("timeupdate",function(){t.emit("timeupdate",{seconds:n.currentTime,duration:n.duration})});n.addEventListener("progress",function(){t.emit("buffered",{percent:n.buffered.length})});t.on("play",function(){n.play()});t.on("pause",function(){n.pause()});t.on("getPaused",function(t){t(n.paused)});t.on("getCurrentTime",function(t){t(n.currentTime)});t.on("setCurrentTime",function(t){n.currentTime=t});t.on("getDuration",function(t){t(n.duration)});t.on("getVolume",function(t){t(100*n.volume)});t.on("setVolume",function(t){n.volume=t/100});t.on("mute",function(){n.muted=!0});t.on("unmute",function(){n.muted=!1});t.on("getMuted",function(t){t(n.muted)});t.on("getLoop",function(t){t(n.loop)});t.on("setLoop",function(t){n.loop=t})};i.HTML5Adapter.prototype.ready=function(){this.receiver.ready()};i.JWPlayerAdapter=function(n){if(!(this instanceof i.JWPlayerAdapter))return new i.JWPlayerAdapter(n);this.init(n)};i.JWPlayerAdapter.prototype.init=function(n){var t,r;i.assert(n,"playerjs.JWPlayerAdapter requires a player object");t=this.receiver=new i.Receiver;this.looped=!1;n.on("pause",function(){t.emit("pause")});n.on("play",function(){t.emit("play")});n.on("time",function(n){var i=n.position,r=n.duration,u;if(!i||!r)return!1;u={seconds:i,duration:r};t.emit("timeupdate",u)});r=this;n.on("complete",function(){!0===r.looped?n.seek(0):t.emit("ended")});n.on("error",function(){t.emit("error")});t.on("play",function(){n.play(!0)});t.on("pause",function(){n.pause(!0)});t.on("getPaused",function(t){t(n.getState().toLowerCase()!=="PLAYING".toLowerCase())});t.on("getCurrentTime",function(t){t(n.getPosition())});t.on("setCurrentTime",function(t){n.seek(t)});t.on("getDuration",function(t){t(n.getDuration())});t.on("getVolume",function(t){t(n.getVolume())});t.on("setVolume",function(t){n.setVolume(t)});t.on("mute",function(){n.setMute(!0)});t.on("unmute",function(){n.setMute(!1)});t.on("getMuted",function(t){t(!0===n.getMute())});t.on("getLoop",function(n){n(this.looped)},this);t.on("setLoop",function(n){this.looped=n},this)};i.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()};i.MockAdapter=function(){if(!(this instanceof i.MockAdapter))return new i.MockAdapter;this.init()};i.MockAdapter.prototype.init=function(){var n={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){n.interval=setInterval(function(){n.currentTime+=.25;n.timeupdate({seconds:n.currentTime,duration:n.duration})},250);n.playing=!0},pause:function(){clearInterval(n.interval);n.playing=!1}},t=this.receiver=new i.Receiver;t.on("play",function(){var t=this;n.play();this.emit("play");n.timeupdate=function(n){t.emit("timeupdate",n)}});t.on("pause",function(){n.pause();this.emit("pause")});t.on("getPaused",function(t){t(!n.playing)});t.on("getCurrentTime",function(t){t(n.currentTime)});t.on("setCurrentTime",function(t){n.currentTime=t});t.on("getDuration",function(t){t(n.duration)});t.on("getVolume",function(t){t(n.volume)});t.on("setVolume",function(t){n.volume=t});t.on("mute",function(){n.mute=!0});t.on("unmute",function(){n.mute=!1});t.on("getMuted",function(t){t(n.mute)});t.on("getLoop",function(t){t(n.loop)});t.on("setLoop",function(t){n.loop=t})};i.MockAdapter.prototype.ready=function(){this.receiver.ready()};i.VideoJSAdapter=function(n){if(!(this instanceof i.VideoJSAdapter))return new i.VideoJSAdapter(n);this.init(n)};i.VideoJSAdapter.prototype.init=function(n){i.assert(n,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new i.Receiver;n.on("pause",function(){t.emit("pause")});n.on("play",function(){t.emit("play")});n.on("timeupdate",function(){var i=n.currentTime(),r=n.duration(),u;if(!i||!r)return!1;u={seconds:i,duration:r};t.emit("timeupdate",u)});n.on("ended",function(){t.emit("ended")});n.on("error",function(){t.emit("error")});t.on("play",function(){n.play()});t.on("pause",function(){n.pause()});t.on("getPaused",function(t){t(n.paused())});t.on("getCurrentTime",function(t){t(n.currentTime())});t.on("setCurrentTime",function(t){n.currentTime(t)});t.on("getDuration",function(t){t(n.duration())});t.on("getVolume",function(t){t(100*n.volume())});t.on("setVolume",function(t){n.volume(t/100)});t.on("mute",function(){n.volume(0)});t.on("unmute",function(){n.volume(1)});t.on("getMuted",function(t){t(0===n.volume())});t.on("getLoop",function(t){t(n.loop())});t.on("setLoop",function(t){n.loop(t)})};i.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()};"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:n.playerjs=i}(window,document);playerjs.BetaJSAdapter=function(n){if(!(this instanceof playerjs.BetaJSAdapter))return new playerjs.BetaJSAdapter(n);this.init(n)};playerjs.BetaJSAdapter.prototype.init=function(n){playerjs.assert(n,"playerjs.BetaJSReceiver requires a player object");var t=this.receiver=new playerjs.Receiver;n.on("paused",function(){t.emit("pause")});n.on("playing",function(){t.emit("play")});n.on("change:position change:duration",function(){var i=n.get("position"),r=n.get("duration"),u;if(!i||!r)return!1;u={seconds:i,duration:r};t.emit("timeupdate",u)});n.on("ended",function(){t.emit("ended")});n.on("error",function(){t.emit("error")});t.on("play",function(){n.play()});t.on("pause",function(){n.pause()});t.on("getPaused",function(t){t(!n.get("playing"))});t.on("getCurrentTime",function(t){t(n.get("position"))});t.on("setCurrentTime",function(t){n.seek(t)});t.on("getDuration",function(t){t(n.get("duration"))});t.on("getVolume",function(t){t(100*n.get("volume"))});t.on("setVolume",function(t){n.set_volume(t/100)});t.on("mute",function(){n.set_volume(0)});t.on("unmute",function(){n.set_volume(1)});t.on("getMuted",function(t){t(0===n.get("volume"))});t.on("getLoop",function(t){t(n.get("loop"))});t.on("setLoop",function(t){n.set("loop",t)})};playerjs.BetaJSAdapter.prototype.ready=function(){this.receiver.ready()};