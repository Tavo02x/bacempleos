"use strict";(function(){angular.module("BacApp.controllers.CambiarClave",[]).controller("CambiarClaveController",function(n,t,i,r){n.model={};n.model.Usuario="";n.model.ClaveAnterior="";n.model.ClaveNueva="";n.model.ClaveConfirmar="";n.show1=!1;n.show2=!1;n.show3=!1;n.show4=!1;n.show5=!1;var f=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)},u=function(n,t,r){var u={Objeto:n,Lista:[],Token:"",Id:0};i.doPost(t,u).then(r)};n.Cambiar=function(){n.show1=n.model.ClaveAnterior==""?!0:!1;n.show3=n.model.ClaveNueva==""?!0:!1;n.show5=n.model.ClaveConfirmar==""?!0:!1;n.show2=n.model.ClaveAnterior==n.model.ClaveNueva?!0:!1;n.show4=n.model.ClaveNueva!=n.model.ClaveConfirmar?!0:!1;n.show1||n.show2||n.show3||n.show4||n.show5||(n.model.Usuario=Utils.getUrlParameter("username"),n.model.ClaveNueva=md5(n.model.ClaveNueva),u(n.model,ApiService.CambiarClave,function(n){n.Resultado?Utils.MessageBox("Cambiar contrase単a","Cambiar contrase単a",n.Mensaje,"Content/Images/IconoConfimacion1.png",function(){window.location=r.baseUrl+"Principal/Login"}):Utils.MessageBox("Cambiar contrase単a","Cambiar contrase単a",n.Mensaje,"Content/Images/IconoErrorGeneral.png",function(){$("#popupLoading").modal("hide");this.modal("hide")})}))};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="CambiarClaveController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))}})})();