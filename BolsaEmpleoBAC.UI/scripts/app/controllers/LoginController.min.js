"use strict";(function(){angular.module("BacApp.controllers.login",[]).controller("loginController",function(n,t,i,r){n.model={};n.model.usuario="";n.model.password="";n.model.Correo="";n.UserInvalido=!1;n.PasswordInvalido=!1;n.EmailInvalido=!1;var f=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)},u=function(n,t,r){var u={Objeto:n,Lista:[],Token:"",Id:0};i.doPost(t,u).then(r)};n.Enviar=function(){n.model.Correo==""?(n.EmailInvalido=!0,Utils.MessageBox("Recuperar contraseña","Recuperar contraseña","Debe ingresar un correo válido.","Content/Images/IconoErrorGeneral.png",function(){n.model.Correo="";this.modal("hide")})):n.EmailInvalido=!1;n.EmailInvalido==!1&&u(n.model.Correo,ApiService.RecuperarClave,function(t){t.Resultado?Utils.MessageBox("Recuperar contraseña","Recuperar contraseña","Se ha enviado un correo con las instrucciones.","Content/Images/IconoConfimacion1.png",function(){n.model.Correo="";$("#popupLoading").modal("hide");this.modal("hide")}):Utils.MessageBox("Recuperar contraseña","Recuperar contraseña",t.Mensaje,"Content/Images/IconoErrorGeneral.png",function(){n.model.Correo="";$("#popupLoading").modal("hide");this.modal("hide")})})};n.login=function(){n.model.usuario!=""&&n.model.password!=""?Session.Login(n.model.usuario,n.model.password):(n.UserInvalido=!0,n.PasswordInvalido=!0)};n.SessionEnd=function(){Session.Logout()};n.registrar=function(){window.location=r.baseUrl+"Postulante/RegistroPostulante/"};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="loginController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))}})})();