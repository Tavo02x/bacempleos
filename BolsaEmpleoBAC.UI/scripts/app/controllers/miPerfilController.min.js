"use strict";(function(){angular.module("BacApp.controllers.miPerfil",[]).controller("miPerfilController",function(n,t,i,r){var u,f;n.model={};n.model.PostulanteInfo={};n.model.PostulanteInfo.NombreCompleto="";n.model.PostulanteInfo.IdPostulante=0;n.model.PostulanteInfo.Nacionalidad="";n.model.PostulanteInfo.Identificacion="";n.model.PostulanteInfo.FechaNacimiento="";n.model.PostulanteInfo.Genero="";n.model.PostulanteInfo.IdEstadoCivil=0;n.model.PostulanteInfo.Telefono="";n.model.PostulanteInfo.ImagenURL="";n.model.PostulanteInfo.OtraDiscapacidad="";n.model.PostulanteInfo.PaisRecidencia=0;n.model.PostulanteInfo.Vehiculo=!1;n.model.PostulanteInfo.Email="";n.model.PostulanteInfo.IdZona1=0;n.model.PostulanteInfo.IdZona2=0;n.model.PostulanteInfo.IdZona3=0;n.model.PostulanteInfo.EstudiaActualidad=!1;n.model.PostulanteInfo.GradoAcademico="";n.model.PostulanteInfo.Profesion="";n.model.PostulanteInfo.IdPretensionSalarial="";n.model.PostulanteInfo.DescripcionCualidades="";n.model.PostulanteInfo.DescripcionVentajaCompetitiva="";n.model.PostulanteInfo.TrabajoBAC=!1;n.model.PostulanteInfo.CurriculumURL="";n.model.PostulanteInfo.FechaCreacion="";n.model.PostulanteInfo.IdUsuario=0;n.model.PostulanteInfo.Borrado=!1;n.model.PostulanteInfo.IdTipoLicencia=0;n.model.Credenciales={};n.model.Credenciales.IdUsuario="";n.model.Credenciales.Password="";n.model.Credenciales.Email="";n.model.Credenciales.IdPais=0;n.model.Idiomas={};n.model.InformacionAcademica={};n.model.Paises={};n.model.Discapacidades={};n.model.ReferenciasLaborales={};n.Zona1={};n.Zona2={};n.Zona3={};n.Idiomas={};n.Paises={};n.Pretensiones={};n.Areas={};n.Discapacidades={};n.StepOne=!0;n.StepTwo=!1;n.StepThree=!1;n.show1=!1;n.show2=!1;n.show3=!1;n.show4=!1;n.show5=!1;n.show6=!1;n.show7=!1;n.show8=!1;n.show9=!1;n.show10=!1;n.show11=!1;n.show12=!1;n.show13=!1;n.show14=!1;n.show15=!1;n.show16=!1;n.show17=!1;n.show18=!1;n.show19=!1;n.IsCurriculoVisible=!1;n.CurriculoInvalido=!1;n.ChangeStep1=function(){n.StepOne=!0;n.StepTwo=!1;n.StepThree=!1;$("#StepOne").removeClass("taps").addClass("tapSelect");$("#StepTwo").removeClass("tapSelect").addClass("taps");$("#StepThree").removeClass("tapSelect").addClass("taps")};n.ChangeStep2=function(){n.StepOne=!1;n.StepTwo=!0;n.StepThree=!1;$("#StepOne").removeClass("tapSelect").addClass("taps");$("#StepTwo").removeClass("taps").addClass("tapSelect");$("#StepThree").removeClass("tapSelect").addClass("taps")};n.ChangeStep3=function(){n.StepOne=!1;n.StepTwo=!1;n.StepThree=!0;$("#StepOne").removeClass("tapSelect").addClass("taps");$("#StepTwo").removeClass("tapSelect").addClass("taps");$("#StepThree").removeClass("taps").addClass("tapSelect")};u=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)};n.getPaises=function(){var t=Utils.decodeJWT(),i={id:{value:t.UserId}};u({},ApiService.GetPaises,function(t){n.Paises=t.Lista})};n.getZona=function(){var t={id:{value:n.model.PostulanteInfo.PaisRecidencia}};u(t,ApiService.Zona1Get,function(t){n.Zona1=t.Lista})};n.Zona2Get=function(){var t={id:{value:n.model.PostulanteInfo.IdZona1}};u(t,ApiService.Zona2Get,function(t){n.Zona2=t.Lista})};n.Zona3Get=function(){var t={id:{value:n.model.PostulanteInfo.IdZona2}};u(t,ApiService.Zona3Get,function(t){n.Zona3=t.Lista})};n.getHabilidad=function(){u({},ApiService.HabilidadGet,function(t){n.habilidades=t.Lista})};n.getIdiomas=function(){u({},ApiService.getIdioma,function(t){n.Idiomas=t.Lista})};n.AreaLaboralGet=function(){u({},ApiService.AreaLaboralGet,function(t){n.Areas=t.Lista})};n.PretensionSalarialGet=function(){u({},ApiService.PretensionSalarialGet,function(t){n.Pretensiones=t.Lista})};n.getPaisesBAC=function(){var t=Utils.decodeJWT(),i={id:{value:t.UserId}};u({},ApiService.GetPaises,function(t){n.Paises=t.Lista})};n.DiscapacidadGet=function(){u({},ApiService.DiscapacidadGet,function(t){n.Discapacidades=t.Lista})};n.GetLicencias=function(){u({},ApiService.GetLicencias,function(t){n.Licencias=t.Lista})};n.getPerfil=function(){var t=Utils.getUrlParameter("idPostulante"),i={id:{value:t}};u(i,ApiService.GetPostulante,function(t){var i=t.Objeto,r;n.model.PostulanteInfo.IdPostulante=i.PostulanteInfo.IdPostulante;n.model.PostulanteInfo.NombreCompleto=i.PostulanteInfo.NombreCompleto;n.model.PostulanteInfo.Nacionalidad=i.PostulanteInfo.Nacionalidad;n.model.PostulanteInfo.Identificacion=i.PostulanteInfo.Identificacion;r=new Date(i.PostulanteInfo.FechaNacimiento);n.model.PostulanteInfo.FechaNacimiento=r;n.model.PostulanteInfo.Genero=i.PostulanteInfo.Genero==="true"?"1":"0";n.model.PostulanteInfo.IdEstadoCivil=i.PostulanteInfo.IdEstadoCivil.toString();n.model.PostulanteInfo.Telefono=i.PostulanteInfo.Telefono;n.model.PostulanteInfo.ImagenURL=i.PostulanteInfo.ImagenURL;n.model.PostulanteInfo.PaisRecidencia=+i.PostulanteInfo.PaisRecidencia;n.getZona();n.model.PostulanteInfo.IdZona1=+i.PostulanteInfo.IdZona1;n.Zona2Get();n.model.PostulanteInfo.IdZona2=+i.PostulanteInfo.IdZona2;n.Zona3Get();n.model.PostulanteInfo.IdZona3=+i.PostulanteInfo.IdZona3;n.model.PostulanteInfo.Vehiculo=i.PostulanteInfo.Vehiculo;n.model.PostulanteInfo.Email=i.PostulanteInfo.Email;n.model.PostulanteInfo.GradoAcademico=i.PostulanteInfo.GradoAcademico;n.model.PostulanteInfo.Profesion=i.PostulanteInfo.Profesion;n.model.PostulanteInfo.IdPretensionSalarial=i.PostulanteInfo.IdPretensionSalarial;n.model.PostulanteInfo.TrabajoBAC=i.PostulanteInfo.TrabajoBAC?"1":"0";n.model.PostulanteInfo.CurriculumURL=i.PostulanteInfo.CurriculumURL;n.model.PostulanteInfo.DescripcionVentajaCompetitiva=i.PostulanteInfo.DescripcionVentajaCompetitiva;n.model.PostulanteInfo.IdTipoLicencia=i.PostulanteInfo.IdTipoLicencia;n.model.PostulanteInfo.Vehiculo=i.PostulanteInfo.Vehiculo?"true":"false";$("#FotoPerfil").attr("src",n.model.PostulanteInfo.ImagenURL);$("input[name=areas]").each(function(){var t=$(this).val(),n=i.Areas.any(function(n){return n.IdArea==t});$(this).prop("checked",n);$(this).prop("value",n)});$("input[name=pais]").each(function(){var t=$(this).val(),n=i.Paises.any(function(n){return n.IdPais==t});$(this).prop("checked",n);$(this).prop("value",n)});$("input[name=pretension]").each(function(){var i=$(this).val(),t=+n.model.PostulanteInfo.IdPretensionSalarial==+i;$(this).prop("checked",t);$(this).prop("value",t)});$("input[name=licencia]").each(function(){var i=$(this).val(),t=+n.model.PostulanteInfo.IdTipoLicencia==+i;$(this).prop("checked",t);$(this).prop("value",t)});n.model.Credenciales={};n.model.Credenciales.IdUsuario=i.Credenciales.IdUsuario;n.model.Credenciales.Password=i.Credenciales.Password;n.model.Credenciales.Email=i.Credenciales.Email;n.model.Credenciales.IdPais=i.Credenciales.IdPais;n.model.Idiomas={};n.model.InformacionAcademica={};n.model.Paises={};n.model.Discapacidades={};n.model.ReferenciasLaborales={};n.CargarReapeter(i.Idiomas);n.CargarReapeterDiscapacidad(i.Discapacidades);n.CargarReapeterExperiencia(i.Experiencia);n.CargarReapeterHabilidad(i.Habilidades);n.CargarReapeterReferencia(i.ReferenciasLaborales);n.CargarReapeterGrado(i.InformacionAcademica)})};f=function(n,t,r){var u={Objeto:n,Lista:[],Token:"",Id:0};i.doPost(t,u).then(r)};n.login=function(){Session.Login(n.model.password,n.model.usuario)};n.registrar=function(){window.location=r.baseUrl+"Postulante/RegistroPostulante/"};n.cancelar=function(){window.location=r.baseUrl+"Postulante/VerPerfil"};n.SavePostulante=function(){var u=n.GetValues("NivelIdioma",["IdIdioma","Porcentaje"]),e=n.GetValues("GradoAcademico",["Descripcion","Institucion","TipoCertificacion"]),o=n.GetValues("ExperienciaAcademica",["Puesto","Empresa","DescripcionPuesto"]),s=n.GetValues("divDiscapacidad",["IdDiscapacidad"]),c=n.GetValues("divReferencias",["UrlReferencia"]),i=n.GetValues("divHabilidad",["IdHabilidad"]),l=Utils.getValCheckEdit("pais","IdPais"),a=Utils.getValCheckEdit("areas","IdArea"),y=Utils.getValCheckEdit("pretension","IdPretensionSalarial"),p=Utils.getValCheckEdit("licencia","IdTipoLicencia"),t=!0,v,h;n.chkDuplicates(s,!0)?(n.RepeticionDiscapacidad=!0,t=!1):(s.length==0?(n.show1=!0,t=!1):n.show1=!1,n.RepeticionDiscapacidad=!1);n.chkDuplicates(e,!0)?(n.RepeticionGradoAcademico=!0,t=!1):(e.length==0?(n.show2=!0,t=!1):n.show2=!1,n.RepeticionGradoAcademico=!1);n.chkDuplicates(o,!0)?(n.RepeticionExperiencia=!0,t=!1):(o.length==0?(n.show3=!0,t=!1):n.show3=!1,n.RepeticionExperiencia=!1);n.chkDuplicates(i,!0)?(n.RepeticionHabilidad=!0,t=!1):(n.RepeticionHabilidad=!1,i.length<=5?(n.MaximoHabilidad=!1,i.length==0?(n.show4=!0,t=!1):n.show4=!1):(n.MaximoHabilidad=!0,t=!1));n.chkDuplicates(c,!0)?(t=!1,n.RepeticionReferencia=!0):n.RepeticionReferencia=!1;n.chkDuplicates(u,!0)?(n.RepeticionIdioma=!0,t=!1):(u.length==0?(n.show6=!0,t=!1):n.show6=!1,n.RepeticionIdioma=!1);n.model.PostulanteInfo.NombreCompleto==""?(n.show7=!0,t=!1):n.show7=!1;n.model.PostulanteInfo.Email==""?(n.show8=!0,t=!1):n.show8=!1;n.model.PostulanteInfo.Telefono==""?(n.show9=!0,t=!1):n.show9=!1;n.model.PostulanteInfo.PaisRecidencia==""?(n.show10=!0,t=!1):n.show10=!1;n.model.PostulanteInfo.Identificacion==""?(n.show11=!0,t=!1):n.show11=!1;n.model.PostulanteInfo.Genero==""?(n.show12=!0,t=!1):n.show12=!1;n.model.PostulanteInfo.IdEstadoCivil==""?(n.show13=!0,t=!1):n.show13=!1;n.model.PostulanteInfo.FechaNacimiento==""||n.model.PostulanteInfo.FechaNacimiento==null?(n.show14=!0,t=!1):n.show14=!1;n.model.PostulanteInfo.Nacionalidad==""?(n.show15=!0,t=!1):n.show15=!1;n.model.PostulanteInfo.TrabajoBAC==""?(n.show16=!0,t=!1):n.show16=!1;a.length==0?(n.show17=!0,t=!1):n.show17=!1;l.length==0?(n.show18=!0,t=!1):n.show18=!1;console.log("bandera:"+t);t&&(v=new Date(n.model.PostulanteInfo.FechaNacimiento),h={PostulanteInfo:{NombreCompleto:n.model.PostulanteInfo.NombreCompleto,IdPostulante:n.model.PostulanteInfo.IdPostulante,Nacionalidad:n.model.PostulanteInfo.Nacionalidad,Identificacion:n.model.PostulanteInfo.Identificacion,FechaNacimiento:v,Genero:+n.model.PostulanteInfo.Genero==1?!0:!1,IdEstadoCivil:n.model.PostulanteInfo.IdEstadoCivil,Telefono:n.model.PostulanteInfo.Telefono,ImagenURL:n.model.PostulanteInfo.ImagenURL,OtraDiscapacidad:n.model.PostulanteInfo.OtraDiscapacidad,PaisRecidencia:n.model.PostulanteInfo.PaisRecidencia,Vehiculo:n.model.PostulanteInfo.Vehiculo,Email:n.model.PostulanteInfo.Email,IdZona1:n.model.PostulanteInfo.IdZona1,IdZona2:n.model.PostulanteInfo.IdZona2,IdZona3:n.model.PostulanteInfo.IdZona3,EstudiaActualidad:n.model.PostulanteInfo.EstudiaActualidad,GradoAcademico:n.model.PostulanteInfo.GradoAcademico,Profesion:n.model.PostulanteInfo.Profesion,IdPretensionSalarial:y[0].IdPretensionSalarial,DescripcionCualidades:n.model.PostulanteInfo.DescripcionCualidades,DescripcionVentajaCompetitiva:n.model.PostulanteInfo.DescripcionVentajaCompetitiva,TrabajoBAC:n.model.PostulanteInfo.TrabajoBAC,CurriculumURL:n.model.PostulanteInfo.CurriculumURL,IdUsuario:n.model.PostulanteInfo.IdUsuario,IdTipoLicencia:p[0].IdTipoLicencia},Credenciales:{IdUsuario:n.model.Credenciales.IdUsuario,NombreCompleto:n.model.PostulanteInfo.NombreCompleto,Usuario1:n.model.PostulanteInfo.Email,Password:n.model.Credenciales.Password,Email:n.model.Credenciales.Email,Borrado:0,IdPais:n.model.PostulanteInfo.PaisRecidencia,IdTipoLogin:1},Idiomas:u,InformacionAcademica:e,Paises:l,Discapacidades:s,ReferenciasLaborales:c,Areas:a,Experiencia:o,Habilidades:i},console.log("Data"),console.log(h),f(h,ApiService.SavePostulante,function(n){n.Resultado?Utils.MessageBox("Has actualizado tu perfil correctamente","Has actualizado tu perfil correctamente","Muchas gracias, tus datos ya se actualizaron en nuestra base de datos.","Content/Images/IconoActualizacionPerfil.png",function(){window.location=r.baseUrl+"Postulante/VerPerfil";this.modal("hide")}):Utils.MessageBox("Actualización de perfil","Actualización de perfil",n.Mensaje,"Content/Images/IconoErrorGeneral.png",function(){$("#popupLoading").modal("hide");this.modal("hide")})}))};n.Return=function(){n.StepOne==!1&&n.StepTwo==!1&&n.StepThree==!1&&n.StepFour==!0?(n.StepOne=!1,n.StepTwo=!1,n.StepThree=!0,n.StepFour=!1,$("#divStepFour").removeClass("Primaria").addClass("Secundario"),$("#divStepThree").removeClass("Secundario").addClass("Primaria"),$("#circuloStepFour").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepThree").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepFour").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepThree").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!1&&n.StepTwo==!1&&n.StepThree==!0&&n.StepFour==!1?(n.StepOne=!1,n.StepTwo=!0,n.StepThree=!1,n.StepFour=!1,$("#divStepThree").removeClass("Primaria").addClass("Secundario"),$("#divStepTwo").removeClass("Secundario").addClass("Primaria"),$("#circuloStepThree").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepTwo").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepThree").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepTwo").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!1&&n.StepTwo==!0&&n.StepThree==!1&&n.StepFour==!1?(n.StepOne=!0,n.StepTwo=!1,n.StepThree=!1,n.StepFour=!1,$("#divStepTwo").removeClass("Primaria").addClass("Secundario"),$("#divStepOne").removeClass("Secundario").addClass("Primaria"),$("#circuloStepTwo").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepOne").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepTwo").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepOne").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!0&&n.StepTwo==!1&&n.StepThree==!1&&n.StepFour==!1&&(window.location=r.baseUrl+"principal/login/")};n.RemoveElement=function(n){var t;switch(n){case 1:t=$("#GradoAcademico > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 2:t=$("#AreaEspecializacion > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 3:t=$("#ExperienciaAcademica > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 4:t=$("#NivelIdioma > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 5:t=$("#divHabilidad > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 6:t=$("#divReferencias > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 7:t=$("#divDiscapacidad > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove()}};n.contadorIdioma=0;n.AgregarIdioma=function(){var t=n.GetValues("NivelIdioma",["IdIdioma","Porcentaje"]);n.chkDuplicates(t,!0)?n.RepeticionIdioma=!0:(n.AgregarNodo("NivelIdioma",n.contadorIdioma),n.RepeticionIdioma=!1)};n.CargarReapeter=function(t){$.each(t,function(t,i){n.AgregarNodoWithValue("NivelIdioma",t,i)})};n.AgregarNodoWithValue=function(t,i,r){n.AgregarNodo(t,i);console.log(r);$("#txtIdioma"+i).val(r.IdIdioma).change();var r=Number(r.Porcentaje),u=r>=0&&r<=49?"0":r>=50&&r<=75?"50":r>=76&&r<=99?"90":"100";$("#selNivel"+i).val(u).change()};n.AgregarNodo=function(t,i){var u='<div id="pnlRepeatNivelIdioma'+i+'">';u+='       <div  class="row">';u+='           <div id="div_'+i+'" class="row col-10 pnlRepeatNivelIdioma'+i+'">';u+='               <select class="col-5 mr-3" id="txtIdioma'+i+'">';u+='                   <option disabled selected value="">Idioma<\/option>';$.each(n.Idiomas,function(n,t){u+='               <option value="'+t.IdIdioma+'" ng-value="'+t.IdIdioma+'">'+t.Descripcion+"<\/option>"});u+="               <\/select>";u+='               <select id ="selNivel'+i+'" class="col-6">';u+='                   <option value="">Nivel<\/option>';u+='                   <option value="0">Bajo<\/option>';u+='                   <option value="50">Intermedio<\/option>';u+='                   <option value="90">Avanzado<\/option>';u+='                   <option value="100">Nativo<\/option>';u+="               <\/select >";u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorIdioma'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector mt-3" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorIdioma"+i).on("click",function(){$("#pnlRepeatNivelIdioma"+i).remove()});n.contadorIdioma=n.contadorIdioma+1};n.RemoveElement=function(n){$("#"+n).remove()};n.GetValues=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var u="#"+n+" ."+n,f=$(u).each(function(){return this.childNodes}).toArray(),r;i+="{";r=0;f[0].childNodes.forEach(function(n){n.tagName!=undefined&&n.value!=""&&n.value!=undefined&&(i+=t[r]+":'"+n.value+"',",r=t.length-1==r?0:r+1)});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",i=i=="]"?"[]":i,eval(i)};n.contadorReferencia=0;n.AgregarReferencia=function(){var t=n.GetValues("divReferencias",["UrlReferencia"]);n.chkDuplicates(t,!0)?n.RepeticionReferencia=!0:(n.AgregarNodoReferencia("divReferencias",n.contadorReferencia),n.RepeticionReferencia=!1)};n.CargarReapeterReferencia=function(t){$.each(t,function(t,i){n.AgregarNodoWithValueReferencia("divReferencias",t,i)})};n.AgregarNodoWithValueReferencia=function(t,i,r){n.AgregarNodoReferencia(t,i);console.log(r);$("#txtSitiosReferencia"+i).val(r.UrlReferencia)};n.AgregarNodoReferencia=function(t,i){var u='<div id="pnlRepetearReferencias'+i+'">';u+='       <div  class="row align-items-center">';u+='           <div id="divref_'+i+'" class="col-sm-10 col-10 pnlRepetearReferencias'+i+'">';u+='               <input id="txtSitiosReferencia'+i+'" type="text" placeholder="Sitios de referencia" />';u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorRef'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorRef"+i).on("click",function(){$("#pnlRepetearReferencias"+i).remove()});n.contadorReferencia=n.contadorReferencia+1};n.RemoveElementReferencia=function(n){$("#"+n).remove()};n.GetValuesReferencia=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var r="#"+n+" ."+n,u=$(r).each(function(){return this.childNodes}).toArray();i+="{";u[0].childNodes.forEach(function(n,r){n.tagName!=undefined&&n.value!=""&&n.value!=undefined&&n.value!=0&&(i+=t[r-1]+":'"+n.value+"',")});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",console.log(i),eval(i)};n.contadorHabilidad=0;n.AgregarHabilidad=function(){var t=n.GetValues("divHabilidad",["IdHabilidad"]);n.chkDuplicates(t,!0)?n.RepeticionHabilidad=!0:(n.RepeticionHabilidad=!1,t.length<5?(n.MaximoHabilidad=!1,n.AgregarNodoHabilidad("divHabilidad",n.contadorHabilidad)):n.MaximoHabilidad=!0)};n.CargarReapeterHabilidad=function(t){$.each(t,function(t,i){n.AgregarNodoWithValueHabilidad("divHabilidad",t,i)})};n.AgregarNodoWithValueHabilidad=function(t,i,r){n.AgregarNodoHabilidad(t,i);console.log(r);$("#txtHabilidadBlanda"+i).val(r.IdHabilidad).change()};n.AgregarNodoHabilidad=function(t,i){var u='<div id="pnlRepetearHabilidad'+i+'">';u+='       <div  class="row align-items-center">';u+='           <div id="div_'+i+'" class="col-sm-10 col-10 pnlRepetearHabilidad'+i+'">';u+='               <select id="txtHabilidadBlanda'+i+'">';u+='                   <option disabled selected value="">Habilidades blandas<\/option>';$.each(n.habilidades,function(n,t){u+='               <option value="'+t.IdHabilidad+'" ng-value="'+t.IdHabilidad+'">'+t.Descripcion+"<\/option>"});u+="               <\/select>";u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorHab'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorHab"+i).on("click",function(){$("#pnlRepetearHabilidad"+i).remove()});n.contadorHabilidad=n.contadorHabilidad+1};n.RemoveElementHabilidad=function(n){$("#"+n).remove()};n.GetValuesHabilidad=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var r="#"+n+" ."+n,u=$(r).each(function(){return this.childNodes}).toArray();i+="{";u[0].childNodes.forEach(function(n,r){n.tagName!=undefined&&n.value!=""&&n.value!=undefined&&n.value!=0&&(i+=t[r-1]+":'"+n.value+"',")});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",eval(i)};n.contadorExperiencia=0;n.AgregarExperiencia=function(){var t=n.GetValues("ExperienciaAcademica",["Puesto","Empresa","DescripcionPuesto"]);n.chkDuplicates(t,!0)?n.RepeticionExperiencia=!0:(n.AgregarNodoExperiencia("ExperienciaAcademica",n.contadorExperiencia),n.RepeticionExperiencia=!1)};n.CargarReapeterExperiencia=function(t){$.each(t,function(t,i){n.AgregarNodoWithValueExperiencia("ExperienciaAcademica",t,i)})};n.AgregarNodoWithValueExperiencia=function(t,i,r){n.AgregarNodoExperiencia(t,i);console.log(r);$("#txtPuesto"+i).val(r.Puesto);$("#txtEmpresa"+i).val(r.Empresa);$("#txtDescripcion"+i).val(r.DescripcionPuesto)};n.AgregarNodoExperiencia=function(t,i){var u='<div id="pnlRepeaterExperienciaAcademica'+i+'" class="mb-4">';u+='<p class="LetrasContenido textoNegrita">Puesto '+(i+1)+"<\/p>";u+='       <div  class="row">';u+='           <div id="divExp_'+i+'" class="col-sm-10 col-10 pnlRepeaterExperienciaAcademica'+i+'">';u+='               <input id="txtPuesto'+i+'" type="text" placeholder="Puesto" />';u+='               <input id = "txtEmpresa'+i+'" type = "text" placeholder = "Empresa" />';u+='               <input id="txtDescripcion'+i+'" type="text" placeholder="Descripción" />';u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorExp'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector mt-3" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorExp"+i).on("click",function(){$("#pnlRepeaterExperienciaAcademica"+i).remove()});n.contadorExperiencia=n.contadorExperiencia+1};n.RemoveElementExperiencia=function(n){$("#"+n).remove()};n.GetValuesExperiencia=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var r="#"+n+" ."+n,u=$(r).each(function(){return this.childNodes}).toArray();i+="{";u[0].childNodes.forEach(function(n,r){n.tagName!=undefined&&n.value!=""&&n.value!=undefined&&n.value!=0&&(i+=t[r-1]+":'"+n.value+"',")});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",console.log(i),eval(i)};n.contadorGrado=0;n.AgregarGrado=function(){var t=n.GetValues("GradoAcademico",["Descripcion","Institucion","TipoCertificacion"]);n.chkDuplicates(t,!0)?n.RepeticionGradoAcademico=!0:(n.AgregarNodoGrado("GradoAcademico",n.contadorGrado),n.RepeticionGradoAcademico=!1)};n.CargarReapeterGrado=function(t){$.each(t,function(t,i){n.AgregarNodoWithValueGrado("GradoAcademico",t,i)})};n.AgregarNodoWithValueGrado=function(t,i,r){n.AgregarNodoGrado(t,i);console.log(r);$("#txtTitulo"+i).val(r.Descripcion).change();$("#txtCentroEducativo"+i).val(r.Institucion).change();$("#selGrado"+i).val(r.TipoCertificacion).change()};n.AgregarNodoGrado=function(t,i){var u='<div id="pnlRepeatGrado'+i+'" class="mb-4">';u+='       <div  class="row">';u+='           <div id="divGrado_'+i+'" class="col-sm-10 col-10 pnlRepeatGrado'+i+'">';u+='               <input id="txtTitulo'+i+'" type="text" placeholder="Titulo o certificado" />';u+='               <input id = "txtCentroEducativo'+i+'" type = "text" placeholder = "Centro educativo" />';u+='               <select id="selGrado'+i+'">';u+='                   <option selected disabled value="">Grado Académico<\/option>';u+='                   <option value="1">Educación Básica Primaria<\/option>';u+='                   <option value="2">Educación Básica Secundaria<\/option>';u+='                   <option value="3">Bachillerato / Educación Media<\/option>';u+='                   <option value="4">Educación Técnico/Profesional<\/option>';u+='                   <option value="5">Bachillerato Universitario<\/option>';u+='                   <option value="6">Licenciatura<\/option>';u+='                   <option value="7">Maestría<\/option>';u+='                 <option value="8">Doctorado<\/option>';u+="               <\/select>";u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorGRado'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector mt-3" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorGRado"+i).on("click",function(){$("#pnlRepeatGrado"+i).remove()});n.contadorGrado=n.contadorGrado+1};n.RemoveElementGrado=function(n){$("#"+n).remove()};n.GetValuesGrado=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var r="#"+n+" ."+n,u=$(r).each(function(){return this.childNodes}).toArray();i+="{";u[0].childNodes.forEach(function(n,r){n.tagName!==undefined&&n.value!==""&&n.value!==undefined&&n.value!==0&&(i+=t[r-1]+":'"+n.value+"',")});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",console.log(i),eval(i)};n.contadorDiscapacidad=0;n.AgregarDiscapacidad=function(){var t=n.GetValues("divDiscapacidad",["IdDiscapacidad"]);n.chkDuplicates(t,!0)?n.RepeticionDiscapacidad=!0:(n.AgregarNodoDiscapacidad("divDiscapacidad",n.contadorDiscapacidad),n.RepeticionDiscapacidad=!1)};n.CargarReapeterDiscapacidad=function(t){$.each(t,function(t,i){n.AgregarNodoWithValueDiscapacidad("divDiscapacidad",t,i)})};n.AgregarNodoWithValueDiscapacidad=function(t,i,r){n.AgregarNodoDiscapacidad(t,i);console.log(r);$("#isDiscapacidad"+i).val(r.IdDiscapacidad).change()};n.AgregarNodoDiscapacidad=function(t,i){var u='<div id="pnlRepeaterDiscapacidad'+i+'">';u+='       <div  class="row align-items-center">';u+='           <div id="divDis_'+i+'" class="col-sm-10 col-10 pnlRepeaterDiscapacidad'+i+'">';u+='               <select id="isDiscapacidad'+i+'">';u+='                   <option disabled selected value="">Discapacidad<\/option>';$.each(n.Discapacidades,function(n,t){u+='               <option value="'+t.IdDescapacidad+'" ng-value="'+t.IdDescapacidad+'">'+t.Descripcion+"<\/option>"});u+="               <\/select>";u+="           <\/div>";i>0&&(u+='           <div class="col-sm-2 col-2"> ',u+='               <img id="borradorDis'+i+'" src = "'+r.baseUrl+'Content/Images/Basurero.png" class="imgLetraContenido punteroSelector" /> ',u+="           <\/div>");u+="       <\/div>";u+=" <\/div> ";$("#"+t).append(u);$("#borradorDis"+i).on("click",function(){$("#pnlRepeaterDiscapacidad"+i).remove()});n.contadorDiscapacidad=n.contadorDiscapacidad+1};n.RemoveElementDiscapacidad=function(n){$("#"+n).remove()};n.GetValuesDiscapacidad=function(n,t){var r=$("#"+n+" > div").map(function(){return this.id}).toArray(),i="[";return r.forEach(function(n){var u="#"+n+" ."+n,f=$(u).each(function(){return this.childNodes}).toArray(),r;i+="{";r=0;f[0].childNodes.forEach(function(n){n.tagName!=undefined&&n.value!=""&&n.value!=undefined&&(i+=t[r]+":'"+n.value+"',",r=t.length-1==r?0:r+1)});i=i.substring(0,i.length-1)+"},"}),i=i.substring(0,i.length-1)+"]",eval(i)};n.uploadFileCV=function(){Utils.UploadFile("uploadCV",n.ResCurriculum,r.MaxSizeDoc,r.FormatosDoc)};n.ResCurriculum=function(t){n.model.PostulanteInfo.CurriculumURL=t[0];$("#DownloadCurriculo").attr("href",n.model.PostulanteInfo.CurriculumURL);n.IsCurriculoVisible=!0;n.CurriculoInvalido=!1};n.uploadFile=function(){Utils.UploadFile("uploadfile",n.ResFoto,r.MaxSizeImagen,r.FormatosImagen)};n.ResFoto=function(t){n.model.PostulanteInfo.ImagenURL=t[0];$("#FotoPerfil").attr("src",n.model.PostulanteInfo.ImagenURL)};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="miPerfilController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))};n.chkDuplicates=function(n,t){var u=n.length,f={},e=n.slice(),r=[],i;for(e.sort();u--;){if(i=e[u],/nul|nan|infini/i.test(String(i))&&(i=String(i)),f[JSON.stringify(i)]){if(t)return!0;r.push(i)}f[JSON.stringify(i)]=!0}return t?!1:r.length?r:null};n.OnlyNumbers=function(n){var t={up:38,right:39,down:40,left:37,escape:27,backspace:8,tab:9,enter:13,del:46,"0":48,"1":49,"2":50,"3":51,"4":52,"5":53,"6":54,"7":55,"8":56,"9":57,dash:189,subtract:109};for(var i in t)if(t.hasOwnProperty(i)&&(n.charCode==t[i]||n.keyCode==t[i]))return;n.preventDefault()};n.dateOptions={showWeeks:!1,maxDate:new Date,formatYear:"yy",startingDay:0,placement:"bottom"};n.openDatepicker=function(){n.datepicker.opened=!0};n.format="dd/MM/yyyy";n.datepicker={opened:!1}})})();