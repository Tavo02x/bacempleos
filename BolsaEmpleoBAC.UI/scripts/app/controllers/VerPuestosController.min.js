"use strict";(function(){angular.module("BacApp.controllers.VerPuestos",[]).controller("VerPuestosController",function(n,t,i,r){n.model={};n.model.nombre="";n.count=0;n.IsClean=!1;var u=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)},f=function(n,t,r){var u=Utils.getFilterObject(n),f={Objeto:u,Lista:[],Token:"",Id:0};i.doPost(t,u).then(r)};n.AreaLaboralGet=function(){u({},ApiService.AreaLaboralGet,function(t){n.Areas=t.Lista})};n.getPaises=function(){var t=Utils.decodeJWT(),i={id:{value:t.UserId}};u(i,ApiService.GetPais,function(t){n.Paises=t.Lista})};n.LoadGrid=function(){var i=Utils.decodeJWT(),r=eval(i.PaisesFiltro),t={IdPais:{value:r,cond:OConfig.condEquals,type:OTypes.default,comp:"||"}},u=Utils.GetWidthWindow();u<=764?Utils.getGrid(ApiService.PuestoGrid,t,"tablaPostulantes",["",""],"MobileColumn",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc"):Utils.getGrid(ApiService.PuestoGrid,t,"tablaPostulantes",["Título del puesto","País","Fecha de cierre","Ver"],"Puesto,Pais,FechaCierreOferta",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc")};n.redirect=function(n){sessionStorage.setItem("volver",r.baseUrl+"Puesto/FiltrarPuestos");window.location=r.baseUrl+"Puesto/VerPuesto?IdPuesto="+(n==undefined?0:n.IdPuesto+"&pais="+n.Pais)};n.redirect1=function(){window.location=r.baseUrl+"Puesto/MantenimientoPuesto"};n.ClearFilter=function(){$("input[name=areas]").each(function(){var t=$(this).val(),n=!1;$(this).prop("checked",n);$(this).prop("value",n)});$("input[name=pais]").each(function(){var t=$(this).val(),n=!1;$(this).prop("checked",n);$(this).prop("value",n)});$("input[name=publicado]").each(function(){var t=$(this).val(),n=!1;$(this).prop("checked",n);$(this).prop("value",n)});n.IsClean=!0;n.LoadGrid()};n.Filter=function(){var t=[],i=[],r=[],f,u;n.IsClean?(t=Utils.getValCheckEdit("areas"),i=Utils.getValCheckEdit("pais"),r=Utils.getValCheckEdit("publicado")):(t=Utils.getValCheck("areas"),i=Utils.getValCheck("pais"),r=Utils.getValCheck("publicado"));f=Utils.GetWidthWindow();u={Puesto:{value:n.model.nombre,cond:OConfig.condLike,type:OTypes.string,comp:"||"},IdPais:{value:i,cond:OConfig.condEquals,type:OTypes.default,comp:"||"},IdArea:{value:t,cond:OConfig.condEquals,type:OTypes.default,comp:"||"},Publicado:{value:r,cond:OConfig.condEquals,type:OTypes.default,comp:"||"}};f<=764?Utils.getGrid(ApiService.PuestoGrid,u,"tablaPostulantes",["",""],"MobileColumn",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc"):Utils.getGrid(ApiService.PuestoGrid,u,"tablaPostulantes",["Título del puesto","País","Fecha de cierre","Ver"],"Puesto,Pais,FechaCierreOferta",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc")};n.FilterWord=function(){Utils.clearCheckboxes();var t=n.model.nombre;width<=764?Utils.getGrid(ApiService.PuestoGrid,{},"tablaPostulantes",["",""],"MobileColumn",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc"):Utils.getGrid(ApiService.PuestoGrid,{},"tablaPostulantes",["Título del puesto","País","Fecha de cierre","Ver"],"Puesto,Pais,FechaCierreOferta",n.redirect,5,"totalGrid","IdPuesto","IdPuesto","desc",["Puesto"],t)};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="VerPuestosController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))}})})();