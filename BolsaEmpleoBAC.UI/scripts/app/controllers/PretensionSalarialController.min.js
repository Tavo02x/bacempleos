"use strict";(function(){angular.module("BacApp.controllers.PretensionSalarial",[]).controller("PretensionSalarialController",function(n,t,i){n.model={};n.model.IdPretension=0;n.model.Descripcion="";n.model.SalarioMinimo=0;n.model.SalarioMaximo=0;n.model.IdMoneda="";n.model.Borrado=!1;n.model.FechaCreacion=Date.now;var r=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)},u=function(n,t,r){var u={Objeto:n,Lista:[],Token:"",Id:n.IdPretension};i.doPost(t,u).then(r)};n.GetMonedas=function(){r({},ApiService.MonedaGet,function(t){n.monedas=t.Lista})};n.LoadGrid=function(){Utils.getGrid(ApiService.PretensionSalarialGrid,{},"table",["Nombre","Mínimo","Máximo","Ver"],"Descripcion,SalarioMinimo,SalarioMaximo",n.Cargar,5,"totalGrid","IdPretension,Borrado,IdMoneda")};n.Guardar=function(){$("#popupArea").modal("hide");u(n.model,ApiService.PretensionSalarialSave,function(t){t.Resultado?Utils.MessageBox("Mantenimiento Pretensiones Salariales","Pretensión Salarial",t.Mensaje,"Content/Images/IconoConfimacion1.png",function(){n.LoadGrid();n.Limpiar();$("#popupLoading").modal("hide");this.modal("hide")}):Utils.MessageBox("Mantenimiento Pretensiones Salariales","Pretensión Salarial",t.Mensaje,"Content/Images/IconoErrorGeneral.png",function(){n.LoadGrid();n.Limpiar();$("#popupLoading").modal("hide");this.modal("hide")})})};n.Cargar=function(t){$("#popupArea").modal("show");n.$apply(function(){n.model.IdPretension=t.IdPretension;n.model.Descripcion=t.Descripcion;n.model.SalarioMinimo=t.SalarioMinimo;n.model.SalarioMaximo=t.SalarioMaximo;n.model.IdMoneda=t.IdMoneda;n.model.Borrado=t.Borrado;n.model.FechaCreacion=Date.now})};n.Limpiar=function(){n.$apply(function(){n.model.IdPretension=0;n.model.Descripcion="";n.model.SalarioMinimo=0;n.model.SalarioMaximo=0;n.model.IdMoneda="";n.model.Borrado=!1;n.model.FechaCreacion=Date.now})};n.Cancelar=function(){$("#popupArea").modal("hide");n.model.IdPretension=0;n.model.Descripcion="";n.model.SalarioMinimo=0;n.model.SalarioMaximo=0;n.model.IdMoneda="";n.model.Borrado=!1;n.model.FechaCreacion=Date.now};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="PretensionSalarialController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))}})})();