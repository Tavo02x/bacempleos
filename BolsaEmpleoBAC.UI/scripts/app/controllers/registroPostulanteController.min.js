"use strict";(function(){angular.module("BacApp.controllers.registroPostulante",[]).controller("registroPostulanteController",function(n,t,i,r){var e="",f,u,o;JsonNombreCompleto!="undefined"&&(e=JsonNombreCompleto);n.model={};n.model.PostulanteInfo={};n.model.PostulanteInfo.NombreCompleto=e;n.model.PostulanteInfo.IdPostulante=0;n.model.PostulanteInfo.Nacionalidad="";n.model.PostulanteInfo.Identificacion="";n.model.PostulanteInfo.FechaNacimiento="";n.model.PostulanteInfo.Genero="";n.model.PostulanteInfo.IdEstadoCivil="";n.model.PostulanteInfo.Telefono="";n.model.PostulanteInfo.ImagenURL="";n.model.PostulanteInfo.OtraDiscapacidad="";n.model.PostulanteInfo.PaisRecidencia="";n.model.PostulanteInfo.Vehiculo=!1;n.model.PostulanteInfo.Email="";n.model.PostulanteInfo.IdZona1="";n.model.PostulanteInfo.IdZona2="";n.model.PostulanteInfo.IdZona3="";n.model.PostulanteInfo.EstudiaActualidad=!1;n.model.PostulanteInfo.GradoAcademico="";n.model.PostulanteInfo.Profesion="";n.model.PostulanteInfo.IdPretensionSalarial="";n.model.PostulanteInfo.DescripcionCualidades="";n.model.PostulanteInfo.DescripcionVentajaCompetitiva="";n.model.PostulanteInfo.TrabajoBAC=!1;n.model.PostulanteInfo.CurriculumURL="";n.model.PostulanteInfo.FechaCreacion="";n.model.PostulanteInfo.IdUsuario=0;n.model.PostulanteInfo.Borrado=!1;n.model.PostulanteInfo.Vehiculo=!1;n.model.PostulanteInfo.IdTipoLicencia=0;n.model.Credenciales={};n.model.Credenciales.Password="";n.model.Credenciales.Email=n.model.PostulanteInfo.Email;n.model.Credenciales.IdPais="";n.model.Idiomas={};n.model.InformacionAcademica={};n.model.Paises={};n.model.Discapacidades={};n.model.ReferenciasLaborales={};n.IsCurriculoVisible=!1;f=new Date;n.MaxSizeImagen=r.MaxSizeImagen;n.FormatosImagen=r.FormatosImagen;n.MaxSizeDoc=r.MaxSizeDoc;n.FormatosDoc=r.FormatosDoc;n.DateNow=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getDate();n.Zona1={};n.Zona2={};n.Zona3={};n.Idiomas={};n.Paises={};n.Pretensiones={};n.Areas={};n.Discapacidades={};n.StepOne=!0;n.StepTwo=!1;n.StepThree=!1;n.StepFour=!1;n.StepOneComplete=!1;n.IdInvalido=!1;n.NombreInvalido=!1;n.GeneroInvalido=!1;n.CivilInvalido=!1;n.NacionalidadInvalido=!1;n.ResidenciaInvalido=!1;n.Zona1Invalido=!1;n.Zona2Invalido=!1;n.Zona3Invalido=!1;n.FotoInvalido=!1;n.ClaveInvalido=!1;n.NacimientoInvalido=!1;n.EmailInvalido=!1;n.EmailFormatInvalido=!1;n.EmailExiste=!1;n.TelefonoInvalido=!1;n.PasswordLenInvalido=!1;n.FotoInvalido=!1;n.HasFoto=!1;n.StepTwoComplete=!1;n.GradoRepetearInvalido=!1;n.ExperenciaRepeaterInvalido=!1;n.IdiomaRepeaterInvalido=!1;n.HabilidadRepeaterInvalido=!1;n.ReferenciaRepeaterInvalido=!1;n.MaximoHabilidad=!1;n.RepeticionHabilidad=!1;n.StepThreeComplete=!1;n.AreaRepeaterInvalido=!1;n.PaisRepeaterInvalido=!1;n.PretensionRepeaterInvalido=!1;n.StepFourComplete=!1;n.VehiculoInvalido=!1;n.CurriculoInvalido=!1;n.DiscapacidadRepetearInvalido=!1;n.CurriculoInvalido=!1;n.HiddenValidateStepTwo=function(){n.GradoRepetearInvalido=!1;n.ExperenciaRepeaterInvalido=!1;n.IdiomaRepeaterInvalido=!1;n.HabilidadRepeaterInvalido=!1;n.ReferenciaRepeaterInvalido=!1};n.HiddenValidateStepThree=function(){n.AreaRepeaterInvalido=!1;n.PaisRepeaterInvalido=!1;n.PretensionRepeaterInvalido=!1};n.HiddenValidateStepFour=function(){n.VehiculoInvalido=!1;n.CurriculoInvalido=!1;n.DiscapacidadRepetearInvalido=!1};n.StepOneValidate=function(){var t=!0;return n.model.PostulanteInfo.Identificacion==""?(n.IdInvalido=!0,t=!1):n.IdInvalido=!1,n.model.PostulanteInfo.NombreCompleto==""?(n.NombreInvalido=!0,t=!1):n.NombreInvalido=!1,n.model.PostulanteInfo.Genero==undefined||n.model.PostulanteInfo.Genero==""?(n.GeneroInvalido=!0,t=!1):n.GeneroInvalido=!1,n.model.PostulanteInfo.IdEstadoCivil==undefined||n.model.PostulanteInfo.IdEstadoCivil==""?(n.CivilInvalido=!0,t=!1):n.CivilInvalido=!1,n.model.PostulanteInfo.FechaNacimiento==""?(n.NacimientoInvalido=!0,t=!1):n.NacimientoInvalido=!1,n.model.PostulanteInfo.Nacionalidad==undefined||n.model.PostulanteInfo.Nacionalidad==""?(n.NacionalidadInvalido=!0,t=!1):n.NacionalidadInvalido=!1,n.model.PostulanteInfo.Email==""?(n.EmailInvalido=!0,t=!1):n.EmailInvalido=!1,n.model.Credenciales.Password==""?(n.ClaveInvalido=!0,t=!1):n.ClaveInvalido=!1,n.model.Credenciales.Password.length<8?(n.PasswordLenInvalido=!0,t=!1):n.PasswordLenInvalido=!1,n.model.PostulanteInfo.Telefono==""?(n.TelefonoInvalido=!0,t=!1):n.TelefonoInvalido=!1,n.model.PostulanteInfo.PaisRecidencia==undefined||n.model.PostulanteInfo.PaisRecidencia==""?(n.ResidenciaInvalido=!0,t=!1):n.ResidenciaInvalido=!1,n.HasFoto===!1&&(n.FotoInvalido=!0,t=!1),n.EmailExiste&&(t=!1),n.isValidEmail(n.model.PostulanteInfo.Email)?n.EmailFormatInvalido=!1:(n.EmailFormatInvalido=!0,t=!1),t};n.StepTwoValidate=function(){var t=!0,r,u,e,f,i;return n.model.PostulanteInfo.GradoAcademico==undefined||n.model.PostulanteInfo.GradoAcademico==""?(n.GradoInvalido=!0,t=!1):n.GradoInvalido=!1,n.model.PostulanteInfo.TrabajoBAC==undefined||n.model.PostulanteInfo.TrabajoBAC==""?(n.BacInvalido=!0,t=!1):n.BacInvalido=!1,r=Utils.getValRepetear("GradoAcademico",["Descripcion","Institucion","TipoCertificacion"]),n.chkDuplicates(r,!0)?(n.RepeticionGradoAcademico=!0,t=!1):(r.length==0?(n.GradoRepetearInvalido=!0,t=!1):n.GradoRepetearInvalido=!1,n.RepeticionGradoAcademico=!1),u=Utils.getValRepetear("NivelIdioma",["IdIdioma","Porcentaje"]),n.chkDuplicates(u,!0)?(n.RepeticionIdioma=!0,t=!1):(u.length==0?(n.IdiomaRepeaterInvalido=!0,t=!1):n.IdiomaRepeaterInvalido=!1,n.RepeticionIdioma=!1),e=Utils.getValRepetear("divReferencias",["UrlReferencia"]),n.chkDuplicates(e,!0)?(t=!1,n.RepeticionReferencia=!0):n.RepeticionReferencia=!1,f=Utils.getValRepetear("ExperienciaAcademica",["Puesto","Empresa","DescripcionPuesto"]),n.chkDuplicates(f,!0)?(n.RepeticionExperiencia=!0,t=!1):(f.length==0?(n.ExperenciaRepeaterInvalido=!0,t=!1):n.ExperenciaRepeaterInvalido=!1,n.RepeticionExperiencia=!1),i=Utils.getValRepetear("divHabilidad",["IdHabilidad"]),n.chkDuplicates(i,!0)?(n.RepeticionHabilidad=!0,t=!1):(n.RepeticionHabilidad=!1,i.length<5?(n.MaximoHabilidad=!1,i.length==0?(n.HabilidadRepeaterInvalido=!0,t=!1):n.HabilidadRepeaterInvalido=!1):(n.MaximoHabilidad=!0,t=!1)),t};n.StepThreeValidate=function(){var t=!0,u=Utils.getValCheck("pais","IdPais"),i,r;return u.length==0?(n.PaisRepeaterInvalido=!0,t=!1):n.PaisRepeaterInvalido=!1,i=Utils.getValCheck("areas","IdArea"),i.length==0?(n.AreaRepeaterInvalido=!0,t=!1):n.AreaRepeaterInvalido=!1,r=Utils.getValCheck("pretension","IdPretensionSalarial"),r.length==0?(n.PretensionRepeaterInvalido=!0,t=!1):n.PretensionRepeaterInvalido=!1,t};n.StepFourValidate=function(){var t=!0,i=Utils.getValRepetear("divDiscapacidad",["IdDiscapacidad"]);return n.chkDuplicates(i,!0)?(n.RepeticionDiscapacidad=!0,t=!1):(i.length==0?(n.DiscapacidadRepetearInvalido=!0,t=!1):n.DiscapacidadRepetearInvalido=!1,n.RepeticionDiscapacidad=!1),n.model.PostulanteInfo.Vehiculo==undefined||n.model.PostulanteInfo.Vehiculo==""?(n.VehiculoInvalido=!0,t=!1):n.VehiculoInvalido=!1,n.model.PostulanteInfo.CurriculumURL==""?(n.CurriculoInvalido=!0,t=!1):n.CurriculoInvalido=!1,t};n.ChangeStep=function(){n.StepOneComplete=n.StepOneValidate();n.StepTwoComplete=n.StepTwoValidate();n.StepThreeComplete=n.StepThreeValidate();n.StepFourComplete=n.StepFourValidate();n.StepOne==!0&&n.StepTwo==!1&&n.StepThree==!1&&n.StepFour==!1&&n.StepOneComplete==!0?(n.StepOne=!1,n.StepTwo=!0,n.StepThree=!1,n.StepFour=!1,$("#divStepOne").removeClass("Primaria").addClass("Secundario"),$("#divStepTwo").removeClass("Secundario").addClass("Primaria"),$("#circuloStepOne").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepTwo").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepOne").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepTwo").removeClass("textoSecundario").addClass("textoPrimario"),n.HiddenValidateStepTwo()):n.StepOne==!1&&n.StepTwo==!0&&n.StepThree==!1&&n.StepFour==!1&&n.StepTwoComplete==!0?(n.StepOne=!1,n.StepTwo=!1,n.StepThree=!0,n.StepFour=!1,$("#divStepTwo").removeClass("Primaria").addClass("Secundario"),$("#divStepThree").removeClass("Secundario").addClass("Primaria"),$("#circuloStepTwo").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepThree").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepTwo").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepThree").removeClass("textoSecundario").addClass("textoPrimario"),n.HiddenValidateStepThree()):n.StepOne==!1&&n.StepTwo==!1&&n.StepThree==!0&&n.StepFour==!1&&n.StepThreeComplete==!0?(n.StepOne=!1,n.StepTwo=!1,n.StepThree=!1,n.StepFour=!0,$("#divStepThree").removeClass("Primaria").addClass("Secundario"),$("#divStepFour").removeClass("Secundario").addClass("Primaria"),$("#circuloStepThree").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepFour").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepThree").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepFour").removeClass("textoSecundario").addClass("textoPrimario"),n.HiddenValidateStepFour(),$("#btnContinuar").text("Guardar")):n.StepOne==!1&&n.StepTwo==!1&&n.StepThree==!1&&n.StepFour==!0&&n.StepFourComplete==!0&&n.SavePostulante();$("html, body").animate({scrollTop:0},600)};n.chkDuplicates=function(n,t){var u=n.length,f={},e=n.slice(),r=[],i;for(e.sort();u--;){if(i=e[u],/nul|nan|infini/i.test(String(i))&&(i=String(i)),f[JSON.stringify(i)]){if(t)return!0;r.push(i)}f[JSON.stringify(i)]=!0}return t?!1:r.length?r:null};n.AgregareGradoAcademico=function(){var t=Utils.getValRepetear("GradoAcademico",["Descripcion","Institucion","TipoCertificacion"]);n.chkDuplicates(t,!0)?n.RepeticionGradoAcademico=!0:(Utils.cloneElement("pnlRepeatGrado","agregarGradoAcademico"),n.RepeticionGradoAcademico=!1)};n.AgregarAreaEspecializacion=function(){Utils.cloneSelect("pnlRepeaterAreaEspecializacion","agregarAreaEspecializacion")};n.AgregarExperiencia=function(){var t=Utils.getValRepetear("ExperienciaAcademica",["Puesto","Empresa","DescripcionPuesto"]);n.chkDuplicates(t,!0)?n.RepeticionExperiencia=!0:(Utils.cloneElement("pnlRepeaterExperienciaAcademica","agregarExperiencia"),n.RepeticionExperiencia=!1)};n.AgregarIdioma=function(){var t=Utils.getValRepetear("NivelIdioma",["IdIdioma","Porcentaje"]);n.chkDuplicates(t,!0)?n.RepeticionIdioma=!0:(Utils.cloneSelect("pnlRepeatNivelIdioma","agregarIdioma"),n.RepeticionIdioma=!1)};n.AgregarOtraHabilidad=function(){var t=Utils.getValRepetear("divHabilidad",["IdHabilidad"]);n.chkDuplicates(t,!0)?n.RepeticionHabilidad=!0:(n.RepeticionHabilidad=!1,t.length<5?(n.MaximoHabilidad=!1,Utils.cloneSelect("pnlRepetearHabilidad","agregarHabilidadBlanda")):n.MaximoHabilidad=!0)};n.AgregarOtraReferencia=function(){var t=Utils.getValRepetear("divReferencias",["UrlReferencia"]);n.chkDuplicates(t,!0)?n.RepeticionReferencia=!0:(Utils.cloneElement("pnlRepetearReferencias","agregarSitiosReferencia"),n.RepeticionReferencia=!1)};n.AgregarOtraDiscapacidad=function(){var t=Utils.getValRepetear("divDiscapacidad",["IdDiscapacidad"]);n.chkDuplicates(t,!0)?n.RepeticionDiscapacidad=!0:(Utils.cloneSelect("pnlRepeaterDiscapacidad","agregarDiscapacidad"),n.RepeticionDiscapacidad=!1)};u=function(n,t,r){var u=Utils.getFilterParameters(n);i.doGet(t,u).then(r)};n.getHabilidad=function(){u({},ApiService.HabilidadGet,function(t){n.habilidades=t.Lista})};n.getPaises=function(){u({},ApiService.GetPaises,function(t){n.Paises=t.Lista})};n.getZona=function(){var t={id:{value:n.model.PostulanteInfo.PaisRecidencia}};u(t,ApiService.Zona1Get,function(t){n.Zona1=t.Lista})};n.Zona2Get=function(){var t={id:{value:n.model.PostulanteInfo.IdZona1}};u(t,ApiService.Zona2Get,function(t){n.Zona2=t.Lista})};n.Zona3Get=function(){var t={id:{value:n.model.PostulanteInfo.IdZona2}};u(t,ApiService.Zona3Get,function(t){n.Zona3=t.Lista})};n.getIdiomas=function(){u({},ApiService.getIdioma,function(t){n.Idiomas=t.Lista})};n.AreaLaboralGet=function(){u({},ApiService.AreaLaboralGet,function(t){n.Areas=t.Lista})};n.PretensionSalarialGet=function(){u({},ApiService.PretensionSalarialGet,function(t){n.Pretensiones=t.Lista})};n.GetLicencias=function(){u({},ApiService.GetLicencias,function(t){n.Licencias=t.Lista})};n.DiscapacidadGet=function(){u({},ApiService.DiscapacidadGet,function(t){n.Discapacidades=t.Lista})};n.isValidEmail=function(n){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(n)};o=function(n,t,r){var u={Objeto:n,Lista:[],Token:"",Id:0};i.doPost(t,u).then(r)};n.login=function(){Session.Login(n.model.password,n.model.usuario)};n.registrar=function(){window.location=r.baseUrl+"Postulante/RegistroPostulante/"};n.uploadFile=function(){Utils.UploadFile("uploadfile",n.ResFoto,r.MaxSizeImagen,r.FormatosImagen);n.FotoInvalido=!1};n.uploadFileCV=function(){Utils.UploadFile("uploadCV",n.ResCurriculum,r.MaxSizeDoc,r.FormatosDoc);n.CurriculoInvalido=!1};n.ResCurriculum=function(t){n.$apply(function(){n.model.PostulanteInfo.CurriculumURL=t[0];$("#DownloadCurriculo").attr("href",n.model.PostulanteInfo.CurriculumURL);n.IsCurriculoVisible=!0;n.CurriculoInvalido=!1})};n.ResFoto=function(t){n.model.PostulanteInfo.ImagenURL=t[0];$("#fotoPersonal").attr("src",n.model.PostulanteInfo.ImagenURL);n.FotoInvalido=!1;n.HasFoto=!0};n.SavePostulante=function(){var t=Utils.getValRepetear("NivelIdioma",["IdIdioma","Porcentaje"]),i=Utils.getValRepetear("GradoAcademico",["Descripcion","Institucion","TipoCertificacion"]),u=Utils.getValRepetear("divDiscapacidad",["IdDiscapacidad"]),f=Utils.getValRepetear("divReferencias",["UrlReferencia"]),e=Utils.getValRepetear("ExperienciaAcademica",["Puesto","Empresa","DescripcionPuesto"]),s=Utils.getValRepetear("divHabilidad",["IdHabilidad"]),h=Utils.getValCheck("pais","IdPais"),c=Utils.getValCheck("areas","IdArea"),l=Utils.getValCheck("pretension","IdPretensionSalarial"),a=Utils.getValCheck("licencia","IdTipoLicencia"),v={PostulanteInfo:{NombreCompleto:n.model.PostulanteInfo.NombreCompleto,IdPostulante:n.model.PostulanteInfo.IdPostulante,Nacionalidad:n.model.PostulanteInfo.Nacionalidad,Identificacion:n.model.PostulanteInfo.Identificacion,FechaNacimiento:n.model.PostulanteInfo.FechaNacimiento,Genero:+n.model.PostulanteInfo.Genero==1?!0:!1,IdEstadoCivil:n.model.PostulanteInfo.IdEstadoCivil,Telefono:n.model.PostulanteInfo.Telefono,ImagenURL:n.model.PostulanteInfo.ImagenURL,OtraDiscapacidad:n.model.PostulanteInfo.OtraDiscapacidad,PaisRecidencia:n.model.PostulanteInfo.PaisRecidencia,Vehiculo:n.model.PostulanteInfo.Vehiculo,Email:n.model.PostulanteInfo.Email,IdZona1:n.model.PostulanteInfo.IdZona1,IdZona2:n.model.PostulanteInfo.IdZona2,IdZona3:n.model.PostulanteInfo.IdZona3,EstudiaActualidad:n.model.PostulanteInfo.EstudiaActualidad,GradoAcademico:n.model.PostulanteInfo.GradoAcademico,Profesion:n.model.PostulanteInfo.Profesion,IdPretensionSalarial:l[0].IdPretensionSalarial,DescripcionCualidades:n.model.PostulanteInfo.DescripcionCualidades,DescripcionVentajaCompetitiva:n.model.PostulanteInfo.DescripcionVentajaCompetitiva,TrabajoBAC:n.model.PostulanteInfo.TrabajoBAC,CurriculumURL:n.model.PostulanteInfo.CurriculumURL,IdUsuario:n.model.PostulanteInfo.IdUsuario,IdTipoLicencia:a[0].IdTipoLicencia},Credenciales:{IdUsuario:0,NombreCompleto:n.model.PostulanteInfo.NombreCompleto,Usuario1:n.model.PostulanteInfo.Email,Password:md5(n.model.Credenciales.Password),Email:n.model.PostulanteInfo.Email,Borrado:0,IdPais:n.model.PostulanteInfo.PaisRecidencia,IdTipoLogin:1},Idiomas:t,InformacionAcademica:i,Paises:h,Discapacidades:u,ReferenciasLaborales:f,Areas:c,Experiencia:e,Habilidades:s};o(v,ApiService.SavePostulante,function(n){n.Resultado?Utils.MessageBox("¡Cuenta creada exitosamente!","¡Cuenta creada exitosamente!","Ya estás registrado en la plataforma.","Content/Images/IconoRegistro.png",function(){return window.location=r.baseUrl+"Principal/Login",!1}):Utils.MessageBox("Creación de cuenta","Creación de cuenta",n.Mensaje,"Content/Images/IconoErrorGeneral.png",function(){return!1})})};n.Return=function(){n.StepOne===!1&&n.StepTwo===!1&&n.StepThree===!1&&n.StepFour===!0?(n.StepOne=!1,n.StepTwo=!1,n.StepThree=!0,n.StepFour=!1,$("#divStepFour").removeClass("Primaria").addClass("Secundario"),$("#divStepThree").removeClass("Secundario").addClass("Primaria"),$("#circuloStepFour").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepThree").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepFour").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepThree").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!1&&n.StepTwo==!1&&n.StepThree==!0&&n.StepFour==!1?(n.StepOne=!1,n.StepTwo=!0,n.StepThree=!1,n.StepFour=!1,$("#divStepThree").removeClass("Primaria").addClass("Secundario"),$("#divStepTwo").removeClass("Secundario").addClass("Primaria"),$("#circuloStepThree").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepTwo").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepThree").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepTwo").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!1&&n.StepTwo==!0&&n.StepThree==!1&&n.StepFour==!1?(n.StepOne=!0,n.StepTwo=!1,n.StepThree=!1,n.StepFour=!1,$("#divStepTwo").removeClass("Primaria").addClass("Secundario"),$("#divStepOne").removeClass("Secundario").addClass("Primaria"),$("#circuloStepTwo").removeClass("CirculoPrimario").addClass("CirculoSecundario"),$("#circuloStepOne").removeClass("CirculoSecundario").addClass("CirculoPrimario"),$("#textStepTwo").removeClass("textoPrimario").addClass("textoSecundario"),$("#textStepOne").removeClass("textoSecundario").addClass("textoPrimario")):n.StepOne==!0&&n.StepTwo==!1&&n.StepThree==!1&&n.StepFour==!1&&(window.location=r.baseUrl+"principal/login/");$("html, body").animate({scrollTop:0},600)};n.RemoveElement=function(n){var t;switch(n){case 1:t=$("#GradoAcademico > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 2:t=$("#AreaEspecializacion > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 3:t=$("#ExperienciaAcademica > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 4:t=$("#NivelIdioma > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 5:t=$("#divHabilidad > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 6:t=$("#divReferencias > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove();break;case 7:t=$("#divDiscapacidad > div").map(function(){return this.id}).toArray();t.length>1&&$("#"+t[t.length-1]).remove()}};n.volver=function(){window.location=r.baseUrl+"Principal/Login"};n.validateEmail=function(){var t={email:{value:n.model.PostulanteInfo.Email}};u(t,ApiService.ValidateEmail,function(t){n.EmailExiste=t.Objeto})};n.SeguridadJS=function(){var n=JSON.parse(sessionStorage.getItem("role")),t;n!=null&&(t=n.where(function(n){return n.TipoAccionId==3&&n.ReferenciasAux=="registroPostulanteController"}),$.each(t,function(n,t){var i=eval("$scope."+t.ReferenciaJS);i!=undefined&&i!=null&&i!=""&&eval("$scope."+t.ReferenciaJS+"= function () { }")}))};n.OnlyNumbers=function(n){var t={up:38,right:39,down:40,left:37,escape:27,backspace:8,tab:9,enter:13,del:46,"0":48,"1":49,"2":50,"3":51,"4":52,"5":53,"6":54,"7":55,"8":56,"9":57,dash:189,subtract:109};for(var i in t)if(t.hasOwnProperty(i)&&(n.charCode==t[i]||n.keyCode==t[i]))return;n.preventDefault()}})})();